@model IEnumerable<ReseauSocial.Asp.Models.UserAsp>
    @inject ReseauSocial.Asp.Sessions.ISessionHelpers sessionManager
    @inject BLL.Interfaces.IFollowerBll _followerBll
    @{
    ViewData["Title"] = "Mes contacts";
    }

    <h1>Mes contacts</h1>


    <table class="table">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.LastName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.FirstName)
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.LastName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.FirstName)
                </td>
                <td>

                    <a asp-controller="Message" asp-action="MessageTo" asp-route-id="@item.Id" class="btn btn-success">Envoyer un message</a>
                    <a asp-controller="Article" asp-action="GetArticleByUserId" asp-route-id="@item.Id" class="btn btn-success">Voir les articles</a>
                    @if (_followerBll.IsFollowBy(sessionManager.CurentUser.Id, item.Id))
                    {
                    <a asp-controller="Follower" asp-action="UnFollow" asp-route-id="@item.Id" class="btn btn-danger">Ne plus suivre</a>
                    }
                    else
                    {
                    <a asp-controller="Follower" asp-action="Follow" asp-route-id="@item.Id" class="btn btn-success">Suivre</a>
                    }




                    @*  <a asp-controller="User" asp-action="Blacklist" asp-route-id="@item.Id" class="btn btn-success">Black lister</a>*@
                </td>
            </tr>
        }
        </tbody>
    </table>

